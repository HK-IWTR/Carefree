<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
</head>
<body>

<!--================ 导航栏区域 =================-->
<header th:replace="common/menu::header"></header>
<!--================ 导航栏区域 =================-->
<div id="content">
    <br><br><br><br>

    <!--定制模块开始-->
    <div class="hotel_booking_area position">
        <div class="container">
            <div class="hotel_booking_table">
                <div class="col-md-3">
                    <h2 style="letter-spacing: 5px">定制您的旅行<br></h2>
                </div>
                <div class="col-md-9">
                    <div class="boking_table">
                        <form th:action="@{/Catalog/Mdd}" method="post">
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="book_tabel_item">
                                        <div class="form-group">
                                            <div class='input-group date' id='datetimepicker1'>
                                                <input th:value="${session.traverMsg.end_city}" name="destination"
                                                       type='text' class="form-control"
                                                       placeholder="目的地城市"/>
                                                    </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="book_tabel_item">
                                        <input type="submit" value="选好了" class="book_now_btn button_hover">
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--定制模块结束-->

    <div class="container" style="margin-top: 0px">
        <div class="section-top-border">
            <div class="row">
                <!--景点侧边栏开始-->
                <div class="col-lg-2 col-md-2 mt-sm-30 element-wrap"
                     style="background-color: rgba(235,252,255,0.98) ; height: 700px ;overflow:auto">
                    <h3 style="margin-left: 10px;font-size: 25px" class="mb-30 title_color">想去哪些景点？</h3>
                    <div class="single-element-widget" th:each="recommendScenic : ${session.recommendScenicList}"
                         name="broadside">
                        <div class="switch-wrap d-flex justify-content-between">
                            <a th:href="${recommendScenic.link_url}"><h4 th:text="${recommendScenic.name}" name="scenic"
                                                                         style="margin-left: 20px"></h4></a>
                        </div>
                        <hr>
                    </div>

                    <div class="pager">
                        <a class="page_num" href="">1</a>
                        <a class="page_num" href="">2</a>
                        <a class="page_num" href="">3</a>
                    </div>
                </div>
                <!--景点侧边栏结束-->

                <!--地图-->
                <div class="col-lg-8 col-md-8" id="map">
                    <!--显示当前地图所在城市-->
                    <!--根据景点的地址将景点凸显出来（标定点）-->
                    <!--根据景点的布局最好全部显示出景点-->
                    <!--当点击侧边栏的时候.....-->
                </div>
                <div id="panel" class="col-lg-2 col-md-2"></div>

                <script src="https://webapi.amap.com/maps?v=1.4.10&key=754607261b9b76661652d0588746686d"></script>
                <script type="text/javascript" src="https://cache.amap.com/lbs/static/addToolbar.js"></script>
                <!--地图-->
            </div>
        </div>
    </div>

    <!--游记区域开始-->
    <section class="latest_blog_area section_gap">
        <div class="container">
            <!--游记-->
            <div class="col-lg-6 " style="border-right: 5px solid #f3c300; padding-right: 50px ">
                <div class="section_title text-center">
                    <a th:href="@{TraverAsk/ViewTraverNote}"><h2 class="title_color">推 荐 游 记</h2></a>
                    <p>这 里 有 最 精 彩 的 旅 行 游 记，给 你 更 多 的 旅 行 知 识</p>
                </div>
                <div class="row mb_30" th:each="recommendTraverNote : ${session.recommendTraverNoteList}">
                    <div class="col-lg-4 col-md-6">
                        <div class="single-recent-blog-post">
                            <div class="thumb">
                                <img class="img-fluid" th:src="${recommendTraverNote.img_url}" alt="post">
                            </div>
                            <div class="details">
                                <div class="tags">
                                    <a href="#" class="button_hover tag_btn">Travel</a>
                                    <a href="#" class="button_hover tag_btn">Life Style</a>
                                </div>
                                <a href="#"><h4 class="sec_h4">Low Cost Advertising</h4></a>
                                <p>Acres of Diamonds… you’ve read the famous story, or at least had it related to you. A
                                    farmer.</p>
                                <h6 class="date title_color">31st January,2018</h6>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--游记-->

            <!--攻略-->
            <div class="section_title text-center">
                <a><h2 class="title_color">推 荐 攻 略</h2></a>
                <p>这 里 有 最 全 面 的 旅 行 攻 略，为 您 的 旅 行 出 谋 划 策</p>
            </div>
            <div class="col-lg-6" style="padding-left: 50px"
                 th:each="recommendStrategy : ${session.recommendStrategyList}">
                <div class="row">
                    <div class="col-md-4">
                        <img th:src="${recommendStrategy.img_url}" alt="" class="img-fluid">
                    </div>
                    <div class="col-md-8 ">
                        <a th:href="${recommendStrategy.link_url}"><h4 th:text="${recommendStrategy.title}"
                                                                       class="sec_h4">标题</h4></a>
                        <p th:text="${recommendStrategy.simple_content}">
                            这里是详细的旅游信息这里是详细的旅游信息这里是详细的旅游信息这里是详细的旅游信息这里是详细的旅游信息
                            <img style="width: 90px;height: 35px;float: right" src="../../static/image/logo/携程.svg">
                        </p>
                    </div>
                </div>
            </div>
            <!--攻略-->
        </div>
    </section>
    <!--游记区域结束-->

    <script>
        var map = new AMap.Map('map', {
            resizeEnable: true,
            zoom: 11
        });

        var cityPositioning = function () {
            //this指向<div class="single-element-widget" name="scenicPosition">
            var scenicName = this.firstElementChild.firstElementChild.firstElementChild.innerHTML;
            var placeSearch = new AMap.PlaceSearch({ //构造地点查询类
                pageSize: 5,
                pageIndex: 1,
                city: "010", //城市
                map: map,
                panel: "panel"
            });
            placeSearch.search(scenicName);
        };

        //给侧边栏绑定事件
        var scenicPositionList = document.getElementsByName("broadside");
        for (var q = 0; q < scenicPositionList.length; q++) {
            AMap.event.addDomListener(scenicPositionList[q], 'click', cityPositioning);
        }

        //页面加载后显示出第一个景点
        AMap.service(["AMap.PlaceSearch"], function () {
            var placeSearch = new AMap.PlaceSearch({ //构造地点查询类
                pageSize: 5,
                pageIndex: 1,
                city: "010", //城市
                map: map,
                panel: "panel"
            });
            var scenicList = document.getElementsByName("scenic");
            var addressList = [];//获得景点字符串
            addressList[0] = scenicList[0].innerHTML;
            placeSearch.search(addressList[0]);
        });
    </script>
</div>
<!--================ start footer Area  =================-->
<footer th:replace="common/menu::footer"></footer>
<!--================ End footer Area  =================-->
</body>
</html>